{"ast":null,"code":"var _s = $RefreshSig$();\n// src/hooks/useWebSocket.ts\nimport { useEffect, useRef } from \"react\";\nimport { useAppDispatch } from \"../store/hooks.ts\";\nimport { setBoard, setCurrentPlayer, setWinner, setSocketConnected } from \"../store/gameSplice.ts\";\nexport const useWebSocket = () => {\n  _s();\n  const dispatch = useAppDispatch();\n  const ws = useRef(null);\n  useEffect(() => {\n    ws.current = new WebSocket(\"ws://localhost:9001\");\n    ws.current.onopen = () => dispatch(setSocketConnected(true));\n    ws.current.onmessage = event => {\n      const data = JSON.parse(event.data);\n      dispatch(setBoard(data.board));\n      dispatch(setCurrentPlayer(data.currentPlayer));\n      dispatch(setWinner(data.winner));\n    };\n    return () => {\n      var _ws$current;\n      return (_ws$current = ws.current) === null || _ws$current === void 0 ? void 0 : _ws$current.close();\n    };\n  }, []);\n  const sendMove = moveData => {\n    var _ws$current2;\n    console.log(\"Sending move data:\", moveData);\n    (_ws$current2 = ws.current) === null || _ws$current2 === void 0 ? void 0 : _ws$current2.send(JSON.stringify(moveData));\n  };\n  return {\n    sendMove\n  };\n};\n_s(useWebSocket, \"ZzYvL0KNWqO+msdqj24zUSqgUS8=\", false, function () {\n  return [useAppDispatch];\n});","map":{"version":3,"names":["useEffect","useRef","useAppDispatch","setBoard","setCurrentPlayer","setWinner","setSocketConnected","useWebSocket","_s","dispatch","ws","current","WebSocket","onopen","onmessage","event","data","JSON","parse","board","currentPlayer","winner","_ws$current","close","sendMove","moveData","_ws$current2","console","log","send","stringify"],"sources":["/Users/gracewilson/fillerai/client/src/hooks/useWebSocket.ts"],"sourcesContent":["// src/hooks/useWebSocket.ts\nimport { useEffect, useRef } from \"react\";\nimport { useAppDispatch } from \"../store/hooks.ts\";\nimport {\n    setBoard,\n    setCurrentPlayer,\n    setWinner,\n    setSocketConnected,\n} from \"../store/gameSplice.ts\";\n\nexport const useWebSocket = () => {\n    const dispatch = useAppDispatch();\n    const ws = useRef<WebSocket | null>(null);\n\n    useEffect(() => {\n        ws.current = new WebSocket(\"ws://localhost:9001\");\n\n        ws.current.onopen = () => dispatch(setSocketConnected(true));\n        ws.current.onmessage = (event) => {\n            const data = JSON.parse(event.data);\n            dispatch(setBoard(data.board));\n            dispatch(setCurrentPlayer(data.currentPlayer));\n            dispatch(setWinner(data.winner));\n        };\n\n        return () => ws.current?.close();\n    }, []);\n\n    const sendMove = (moveData: object) => {\n        console.log(\"Sending move data:\", moveData);\n        ws.current?.send(JSON.stringify(moveData));\n    };\n\n    return { sendMove };\n};\n"],"mappings":";AAAA;AACA,SAASA,SAAS,EAAEC,MAAM,QAAQ,OAAO;AACzC,SAASC,cAAc,QAAQ,mBAAmB;AAClD,SACIC,QAAQ,EACRC,gBAAgB,EAChBC,SAAS,EACTC,kBAAkB,QACf,wBAAwB;AAE/B,OAAO,MAAMC,YAAY,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC9B,MAAMC,QAAQ,GAAGP,cAAc,CAAC,CAAC;EACjC,MAAMQ,EAAE,GAAGT,MAAM,CAAmB,IAAI,CAAC;EAEzCD,SAAS,CAAC,MAAM;IACZU,EAAE,CAACC,OAAO,GAAG,IAAIC,SAAS,CAAC,qBAAqB,CAAC;IAEjDF,EAAE,CAACC,OAAO,CAACE,MAAM,GAAG,MAAMJ,QAAQ,CAACH,kBAAkB,CAAC,IAAI,CAAC,CAAC;IAC5DI,EAAE,CAACC,OAAO,CAACG,SAAS,GAAIC,KAAK,IAAK;MAC9B,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACH,KAAK,CAACC,IAAI,CAAC;MACnCP,QAAQ,CAACN,QAAQ,CAACa,IAAI,CAACG,KAAK,CAAC,CAAC;MAC9BV,QAAQ,CAACL,gBAAgB,CAACY,IAAI,CAACI,aAAa,CAAC,CAAC;MAC9CX,QAAQ,CAACJ,SAAS,CAACW,IAAI,CAACK,MAAM,CAAC,CAAC;IACpC,CAAC;IAED,OAAO;MAAA,IAAAC,WAAA;MAAA,QAAAA,WAAA,GAAMZ,EAAE,CAACC,OAAO,cAAAW,WAAA,uBAAVA,WAAA,CAAYC,KAAK,CAAC,CAAC;IAAA;EACpC,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,QAAQ,GAAIC,QAAgB,IAAK;IAAA,IAAAC,YAAA;IACnCC,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEH,QAAQ,CAAC;IAC3C,CAAAC,YAAA,GAAAhB,EAAE,CAACC,OAAO,cAAAe,YAAA,uBAAVA,YAAA,CAAYG,IAAI,CAACZ,IAAI,CAACa,SAAS,CAACL,QAAQ,CAAC,CAAC;EAC9C,CAAC;EAED,OAAO;IAAED;EAAS,CAAC;AACvB,CAAC;AAAChB,EAAA,CAxBWD,YAAY;EAAA,QACJL,cAAc;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}