{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst BOARD_SIZE = 8;\nconst COLORS = [\"black\", \"yellow\", \"pink\", \"blue\", \"green\", \"purple\"];\nconst generateBoard = () => {\n  const board = [];\n  for (let row = 0; row < BOARD_SIZE; row++) {\n    const currentRow = [];\n    for (let col = 0; col < BOARD_SIZE; col++) {\n      const disallowed = new Set();\n\n      // Check top\n      if (row > 0) {\n        disallowed.add(board[row - 1][col]);\n      }\n\n      // Check left\n      if (col > 0) {\n        disallowed.add(currentRow[col - 1]);\n      }\n\n      // Choose a random allowed color\n      const allowedColors = colors.filter(color => !disallowed.has(color));\n      const color = allowedColors[Math.floor(Math.random() * allowedColors.length)];\n      currentRow.push(color);\n    }\n    board.push(currentRow);\n  }\n  return board;\n};\nconst initialBoard = Array.from({\n  length: BOARD_SIZE\n}, () => {\n  return Array.from({\n    length: BOARD_SIZE\n  }, () => COLORS[Math.floor(Math.random() * COLORS.length)]);\n});\nconst initialState = {\n  board: initialBoard,\n  currentPlayer: 1,\n  winner: null,\n  aiThinking: false,\n  socketConnected: false\n};\nconst gameSlice = createSlice({\n  name: \"game\",\n  initialState,\n  reducers: {\n    setBoard(state, action) {\n      state.board = action.payload;\n    },\n    setCurrentPlayer(state, action) {\n      state.currentPlayer = action.payload;\n    },\n    setWinner(state, action) {\n      state.winner = action.payload;\n    },\n    setThinking(state, action) {\n      state.aiThinking = action.payload;\n    },\n    setSocketConnected(state, action) {\n      state.socketConnected = action.payload;\n    }\n  }\n});\nexport const {\n  setBoard,\n  setCurrentPlayer,\n  setWinner,\n  setThinking,\n  setSocketConnected\n} = gameSlice.actions;\nexport default gameSlice.reducer;","map":{"version":3,"names":["createSlice","BOARD_SIZE","COLORS","generateBoard","board","row","currentRow","col","disallowed","Set","add","allowedColors","colors","filter","color","has","Math","floor","random","length","push","initialBoard","Array","from","initialState","currentPlayer","winner","aiThinking","socketConnected","gameSlice","name","reducers","setBoard","state","action","payload","setCurrentPlayer","setWinner","setThinking","setSocketConnected","actions","reducer"],"sources":["/Users/gracewilson/fillerai/client/src/store/gameSplice.ts"],"sourcesContent":["import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\n\nconst BOARD_SIZE = 8;\nconst COLORS = [\"black\", \"yellow\", \"pink\", \"blue\", \"green\", \"purple\"];\n\ninterface GameState {\n    board: number[][];\n    currentPlayer: number;\n    winner: number | null;\n    aiThinking: boolean;\n    socketConnected: boolean;\n}\n\nconst generateBoard = () => {\n    const board: string[][] = [];\n    for (let row = 0; row < BOARD_SIZE; row++) {\n        const currentRow: string[] = [];\n\n        for (let col = 0; col < BOARD_SIZE; col++) {\n            const disallowed = new Set<string>();\n\n            // Check top\n            if (row > 0) {\n                disallowed.add(board[row - 1][col]);\n            }\n\n            // Check left\n            if (col > 0) {\n                disallowed.add(currentRow[col - 1]);\n            }\n\n            // Choose a random allowed color\n            const allowedColors = colors.filter(\n                (color) => !disallowed.has(color)\n            );\n            const color =\n                allowedColors[Math.floor(Math.random() * allowedColors.length)];\n\n            currentRow.push(color);\n        }\n\n        board.push(currentRow);\n    }\n\n    return board;\n};\n\nconst initialBoard = Array.from({ length: BOARD_SIZE }, () => {\n    return Array.from(\n        { length: BOARD_SIZE },\n        () => COLORS[Math.floor(Math.random() * COLORS.length)]\n    );\n});\n\nconst initialState: GameState = {\n    board: initialBoard,\n    currentPlayer: 1,\n    winner: null,\n    aiThinking: false,\n    socketConnected: false,\n};\n\nconst gameSlice = createSlice({\n    name: \"game\",\n    initialState,\n    reducers: {\n        setBoard(state, action: PayloadAction<number[][]>) {\n            state.board = action.payload;\n        },\n        setCurrentPlayer(state, action: PayloadAction<number>) {\n            state.currentPlayer = action.payload;\n        },\n        setWinner(state, action: PayloadAction<number>) {\n            state.winner = action.payload;\n        },\n        setThinking(state, action: PayloadAction<boolean>) {\n            state.aiThinking = action.payload;\n        },\n        setSocketConnected(state, action: PayloadAction<boolean>) {\n            state.socketConnected = action.payload;\n        },\n    },\n});\n\nexport const {\n    setBoard,\n    setCurrentPlayer,\n    setWinner,\n    setThinking,\n    setSocketConnected,\n} = gameSlice.actions;\n\nexport default gameSlice.reducer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}